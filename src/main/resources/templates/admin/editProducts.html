<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body>

<header th:replace="fragments :: navMenu"></header>

<h2>Products:</h2>
<table class="table table-striped">
    <thead>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Price</th>
        <th>Quantity</th>
    </tr>
    </thead>
    <tr th:each="product : ${products}">
        <td contenteditable="true" th:text="${product.name}" ></td>
        <td th:text="${product.description}"></td>
        <td th:text="${product.price}"></td>
        <td th:text="${product.quantity}"></td>
        <td><input type="button" class="btn btn-danger" th:value="Delete" th:onclick="'javascript:rowClicked(\'deleteProduct?id=' + ${product.id} + '\');'"></td>
    </tr>
</table>
<div style="display: inline-block;">
<h2>Add Products:</h2>
<form method="post">
    <div class="form-group">
        <label>Name
            <input type="text" name="name" class="form-control">
        </label>
    </div>
    <div class="form-group">
        <label>Description
            <input type="text" name="description" class="form-control">
        </label>
    </div>
    <div class="form-group">
        <label>Price
            <input type="number" name="price" class="form-control">
        </label>
    </div>
    <div class="form-group">
        <label>Quantity
            <input type="number" name="quantity" class="form-control">
        </label>
    </div>
    <div class="form-group">
        <input type="submit" value="Create" class="btn btn-success">
    </div>
</form>
</div>
<h2>Edit</h2>
<form method="post" th:id="${product.id}" action="appendProduct" th:each="product : ${products}" style="display: none;">
    <div class="form-group">
        <label>Name
            <input type="text" name="name" class="form-control">
        </label>
    </div>
    <div class="form-group">
        <label>Description
            <input type="text" name="description" class="form-control">
        </label>
    </div>
    <div class="form-group">
        <label>Price
            <input type="number" name="price" class="form-control">
        </label>
    </div>
    <div class="form-group">
        <label>Quantity
            <input type="number" name="quantity" class="form-control">
        </label>
    </div>
    <div class="form-group">
        <input type="submit" value="Edit" class="btn btn-success">
    </div>
</form>

<script>
    function rowClicked(value) {
        location.href = value;
    }
</script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</body>
</html>